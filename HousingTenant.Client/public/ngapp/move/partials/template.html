<section>
  <div>
    <h2>Move Requests</h2>
  </div>
  <div>
    <table class="table table-striped table-bordered">
      <thead class="thead">
        <tr>
          <th>Initiator</th>
          <th>Reason</th>
          <th>Date Submitted</th>
          <th>Status</th>
          <th>Desired Location</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="request in reqList">
          <td>{{request.initiator.emailAddress}}</td>
          <td>{{request.description}}</td>
          <td>{{request.dateSubmitted}}</td>
          <td>{{request.status}}</td>
          <td>{{request.requestedApartmentAddress.ddress1}} {{request.requestedApartmentAddress.apartmentNumber}}</td>
        </tr>
      </tbody>
    </table>
    <div>
      <md-button class="md-raised md-primary" type="button" ng-click="openModal($event)">New Move Request</md-button>
      <span class="flex"></span>
      <md-button class="md-raised md-warn" data-ng-href="/apartment/">Back</md-button>
    </div>
  </div>



  <div style="visibility: hidden">
    <div class="md-dialog-container" id="AddRequestModal">
      <md-dialog layout-padding>
        <md-toolbar>
          <div class="md-toolbar-tools">
            <h2>Move Petition</h2>
            <span class="flex"></span>
            <md-button ng-click="cancel()">Close</md-button>
          </div>
        </md-toolbar>
        <form name="moveRequest" ng-cloak>
          <md-dialog-content layout-padding>
            <div class="md-dialog-content">
              <md-input-container class="md-block">
                <label for="apt">Select New Apartment</label>
                <md-select name="apt" ng-model="selectedApartmentAddress">
                  <md-option ng-repeat="apartment in aptList" value="{{apartment.address}}">{{apartment.address.address1}} {{apartment.address.apartmentNumber}}</md-option>
                </md-select>
              </md-input-container>
              <md-input-container class="md-block">
                <label for="reason">Reason</label>
                <textarea name="reason" placeholder="Tell us what's happening" rows="5" ng-model="reason"></textarea>
              </md-input-container>
            </div>
          </md-dialog-content>
          <md-dialog-actions layout="row">
            <md-button class="md-raised md-primary" type="button" ng-click="addMoveRequest(moveRequest)">Submit</md-button>
            <md-button class="md-raised md-warn" data-ng-href="/move/:{{}}">Back</md-button>
          </md-dialog-actions>
        </form>
      </md-dialog>
    </div>
  </div>
</section>